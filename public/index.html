<!DOCTYPE html>
<html ng-app="nodeApp"><!--Es el module que creamos-->
	<head>
		<meta http-equiv="content-type" content="text/html; charset=utf-8">
    	<title>Propiedades</title>
    	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.3/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="stylesheets/style.css">
        <link rel="stylesheet" href="/stylesheets/bootstrap.css" />
	</head>
	<body ng-controller="mainCtrl"><!--Es el controller que creamos-->
        <nav class="navbar navbar-default navbar-fixed-top navbar-inverse">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="#">
                        <span class="glyphicon glyphicon-home"></span>
                     </a>
                    <a class="navbar-brand" href="#">
                         Propiedades en venta
                    </a>
                </div><!-- end navbar branding -->
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <!--<li><a href="/">Home</a></li>
                        <li><a href="/">About</a></li>
                        <li><a href="/">Contact</a></li> -->
                    </ul>
                </div><!-- end navbar links -->

            </div>
        </nav>
		    <div class="container">
			    <div class="row">
				    <div class="col-md-8">
					    <div class="page-header">
					  	    <h1 id="tituloTabla">Lista de propiedades</h1>
					    </div>
                        <div class="searchBar">
                            <input type="text" placeholder="Buscar propiedad" ng-model="searchPropiedad">
                        </div>
					    <div class="table-responsive">
						    <table class="table table-striped table-hover table-condensed ">
							    <thead>
								    <tr>
									    <th>precio</th>
                                        <th>moneda</th>
									    <th>tamaño</th>
									    <th>provincia</th>
									    <th>canton</th>
								    </tr>
							    </thead>
							    <tbody>
								    <tr ng-repeat="i in propiedades | orderBy: '-precio' | filter:searchPropiedad">
									    <td>{{ i.precio }}</td>
                                        <td>{{ i.moneda }}</td>
									    <td>{{ i.tamanno }}</td>
									    <td>{{ i.provincia }}</td>
									    <td>{{ i.canton }}</td>
									    <td><button class="btn-primary" ng-click="deletePropiedad(i._id)">Borrar</button></td>
									    <td><button class="btn-primary" ng-click="showPropiedad(i._id)">Modificar</button></td>
								    </tr>
							    </tbody>
						    </table>
					    </div>
				    </div>
				    <div class="col-md-4">
					    <div class="page-header">
					  	    <h1 id= "tituloAnnadir"><span id= "tituloAnnadir2" class="addUpt">Añadir</span> propiedad</h1>
					    </div>
					    <form name="propiedadForm" ng-submit="anadirPropiedad(propiedadForm.$valid)" novalidate>
					        <div class="form-group">
					            <input id="precio" name="precio" type="Number" class="form-control" placeholder="precio" ng-model="propiedades.precio" required>
					        </div>
                            <div class="form-group">
					    	    <select id="moneda" name="moneda" class="form-control" title="moneda" ng-model="propiedades.moneda" required>
					    		    <option value="">Moneda</option>
								    <option value="Colones">Colones</option>
								    <option value="Dolares">Dolares</option>
							    </select>
					        </div>
					        <div class="form-group">
					            <input id="tamanno" name="tamaño" type="Number" class="form-control" placeholder="tamaño" ng-model="propiedades.tamanno" required>
					        </div>
					        <div class="form-group">
					            <input id="provincia" name="provincia" type="text" class="form-control" placeholder="provincia" ng-model="propiedades.provincia" required>
					        </div>
                            <div class="form-group">
					            <input id="canton" name="canton" type="text" class="form-control" placeholder="canton" ng-model="propiedades.canton" required>
					        </div>
					    
					        <!--El submit es solo el añadir, para la validación-->
					        <input type="submit" class="btn btn-primary btn-add" value="Añadir" ng-disabled="propiedadForm.$invalid" />
					        <button type="button" class="btn btn-primary btn-upd" ng-click="updatePropiedad()">Modificar</button>
					    </form>
				    </div>
			    </div>
		    </div>
		<script type="text/javascript" src="js/lib/jquery-1.10.2.min.js"></script>
    	<script type="text/javascript" src="js/lib/angular.min.js"></script>
    	<script type="text/javascript" src="js/main.js"></script>
	</body>
</html>